<!DOCTYPE html>
<html>

<head>
    <title>Sokoban</title>
    <style>
        /* CSS for game board and box */
        .board {
            display: flex;
            flex-wrap: wrap;
            width: 160px;
            height: 160px;
            margin: 0 auto;
        }

        .box {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 30px;
            height: 30px;
            border: 1px solid black;
            font-size: 24px;
            text-align: center;
        }

        /* CSS for player character */
        .player {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 30px;
            height: 30px;
            background-color: blue;
            font-size: 24px;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="board"></div>

    <script>
        // Define game board and player position
        const board = [
            [1, 1, 1, 1, 1],
            [1, 0, 0, 0, 1],
            [1, 0, 2, 0, 1],
            [1, 0, 0, 0, 1],
            [1, 1, 1, 1, 1],
        ];

        let playerPos = [2, 2];

        // Draw game board
        const boardElement = document.querySelector(".board");
        for (let row of board) {
            for (let cell of row) {
                const cellElement = document.createElement("div");
                cellElement.classList.add("box");

                if (cell === 1) {
                    cellElement.style.backgroundColor = "black";
                } else if (cell === 2) {
                    const playerElement = document.createElement("div");
                    playerElement.classList.add("player");
                    cellElement.appendChild(playerElement);
                }

                boardElement.appendChild(cellElement);
            }
        }

        // Handle player movement
        function movePlayer(dx, dy) {
            const [x, y] = playerPos;
            const [newX, newY] = [x + dx, y + dy];

            // Check if new position is out of bounds
            if (newX < 0 || newY < 0 || newX >= board.length || newY >= board[0].length) {
                return;
            }

            const newPos = board[newX][newY];

            // Check if new position is a wall or box
            if (newPos === 1 || newPos === 3) {
                return;
            }

            // Move player and update board
            const playerElement = document.querySelector(".player");
            playerElement.parentNode.removeChild(playerElement);
            board[x][y] = 0;
            playerPos = [newX, newY];
            board[newX][newY] = 2;
            const newCellElement = boardElement.children[newX * board[0].length + newY];
            newCellElement.appendChild(playerElement);
        }

        // Handle arrow key presses for player movement
        document.addEventListener("keydown", (event) => {
            switch (event.key) {
                case "ArrowUp":
                    movePlayer(-1, 0);
                    break;
                case "ArrowDown":
                    movePlayer(1, 0);
                    break;
                case "ArrowLeft":
                    movePlayer(0, -1);
                    break;
                case "ArrowRight":
                    movePlayer(0, 1);
                    break;
                default:
                    break;
            }
        });
    </script>
</body>

</html>